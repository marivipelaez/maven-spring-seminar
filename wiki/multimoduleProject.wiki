#summary Configurar proyecto multimódulo


<wiki:toc max_depth="4" />

= Proyecto multimódulo =

Las razones para realizar un proyecto multimódulo son:

 # El proyecto tiene parte cliente y parte servidora. Ambas partes han de compartir los datos (lectores, autores, libros, ...), y además la parte cliente debería utilizar los mismos interfaces para invocar los servicios(dar de alta lector, prestar libro, devolver libro, ...) definidos en la parte servidora. 
 # Aislar los diferentes módulos para poderlos reutilizar en otros desarrollos.

== Modificar pom.xml para aceptar multimódulos ==
{{{
<packaging>pom</packaging> #Antes <packaging>jar</packaging>
}}}
== Generación de los diferentes módulos ==

{{{
ngsn@ironman:~/workspace/ms$ mvn -Dversion=0.0.1-SNAPSHOT -DgroupId=es.tid.ad.seminar.ms -DartifactId=data -Dpackage=es.tid.ad.seminar.ms.data -DinteractiveMode=false archetype:generate
ngsn@ironman:~/workspace/ms$ mvn -Dversion=0.0.1-SNAPSHOT -DgroupId=es.tid.ad.seminar.ms -DartifactId=services -Dpackage=es.tid.ad.seminar.ms.services -DinteractiveMode=false archetype:generate
ngsn@ironman:~/workspace/ms$ mvn -Dversion=0.0.1-SNAPSHOT -DgroupId=es.tid.ad.seminar.ms -DartifactId=dbaccess -Dpackage=es.tid.ad.seminar.ms.dbaccess -DinteractiveMode=false archetype:generate
ngsn@ironman:~/workspace/ms$ mvn -Dversion=0.0.1-SNAPSHOT -DgroupId=es.tid.ad.seminar.ms -DartifactId=web -Dpackage=es.tid.ad.seminar.ms.web -DinteractiveMode=false -DarchetypeArtifactId=maven-archetype-webapp archetype:generate
ngsn@ironman:~/workspace/ms$ mvn -Dversion=0.0.1-SNAPSHOT -DgroupId=es.tid.ad.seminar.ms -DartifactId=client -Dpackage=es.tid.ad.seminar.ms.client -DinteractiveMode=false archetype:generate
ngsn@ironman:~/workspace/ms$ mvn eclipse:eclipse
}}}

== Editar los pom.xml de cada módulo ==

* Borrar dependencies
{{{
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>3.8.1</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
}}}
* Dejar las etiquetas groupId y version del proyecto padre y eliminarlas del proyecto hijo. Las versiones se crearán del proyecto no de cada uno de los módulos, por lo tanto no tiene sentido tener la etiqueta versión.
{{{
<groupId>es.tid.ad.seminar.ms</groupId>
<version>0.0.1-SNAPSHOT</version>
}}}

== Importar módulos en eclipse ==

Todos los módulos generados tendrán que ser importados en Eclipse. Se pone como ejemplo la importación del módulo data

=== Crear nuevo proyecto data ===

[http://maven-spring-seminar.googlecode.com/files/dataModule.png]

=== Configurar Working Set ===



[http://maven-spring-seminar.googlecode.com/files/configureWorkingSet.png]

==== Seleccionar  Working Set ====
[http://maven-spring-seminar.googlecode.com/files/SelectWorkingSet%20.png]

==== Añadir proyecto data al Working Set ===
[http://maven-spring-seminar.googlecode.com/files/addProjectToWorkingSet.png]